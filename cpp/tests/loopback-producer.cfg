general = {
    log_level = "all";
    log_file = "ndnrtc-client.log";
    log_path = "./loopback";

    use_fec = false;
    use_avsync = true;
    
    ndnnetwork ={
        connect_host = "localhost";
        connect_port = 6363;
    };
};

produce = {
    stat_gathering = ({
        name = "frames-publish";
        statistics = ("framesCaptured", "framesEncoded", "framesPub", "framesDrop");
    },
    {
        name = "network-publish";
        statistics = ("segPub", "signNum", "irecvd");
    });
    streams = ({
        type = "video";
        name = "camera";
        segment_size = 1000;
        freshness = {
            metadata = 10;
            sample = 15;
            sampleKey = 900;
        };
        source = "tests/in_1080p.raw";
        sync = "sound";
        threads = (/*{
            name = "low";
            coder = {
                frame_rate = 30;
                gop = 30;
                start_bitrate = 500;
                max_bitrate = 5000;
                encode_height = 144;
                encode_width = 256;
                drop_frames = true;
            };
        },{
            name = "med";
            coder = {
                frame_rate = 30;
                gop = 30;
                start_bitrate = 1500;
                max_bitrate = 10000;
                encode_height = 360;
                encode_width = 640;
                drop_frames = true;
            };
        },*/{
            name = "high";
            coder = {
                frame_rate = 30;
                gop = 30;
                start_bitrate = 3000;
                max_bitrate = 25000;
                encode_height = 1080;
                encode_width = 1920;
                drop_frames = true;
            };
        });
    }
    # ,
    # {
    #     type = "audio";
    #     name = "sound";
    #     thread = "pcmu";
    #     segment_size = 1000;
    #     freshness = 2000;
    #     capture_device = 0;
    # }
    );
};
